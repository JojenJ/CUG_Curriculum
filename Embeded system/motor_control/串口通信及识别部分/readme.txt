由于该52开发板提供的外设有限，决定用串口通信将复杂任务放在电脑上完成，并且将基本控制信号传入单片机中。相当于电脑充当“上位机”的角色，单片机部分只负责驱动电机。

通过查阅开发版网站，我找到了串口接收的例程代码，然后通过python编写了基本的串口发送代码，并进行测试。发现该串口只能一次收发一个十六进制的数字。于是在发送端按间隔发送data_list = [1, 2, 0x0F, 0x0A, 0x10] ，接收端通过一个数组缓存这段数据。
数组内容为：0001020F0A10，可见如果要进行数据通信，在传入对应数据后还需要对接收端缓存的数据进行解码。

在电机控制中，如果电脑端发送一串坐标信号，则接收端需先对数据进行间隔提取，并输入一个二维数组来储存坐标信号（解码过程）。

在电脑端，我使用电脑的摄像头进行图像获取，并且使用yolov5模型进行视觉识别，将推理的结果通过串口传入。
在本例子中，我使用yolov5s模型训练了关于动物识别的模型，共names: ['cat', 'cockroach', 'crow', 'dog', 'goat', 'mouse', 'pig', 'pigeon', 'squirrel', 'tiger']十个动物，识别的置信度可以稳定在0.7以上。在识别出猫或狗后，将数据传入串口，并被单片机端接收，然后画出猫或者狗的图像。


不足与改进：
由于临近很多考试，我们有一些思路未实现，功能也不完善。
在实操过程中，单片机中使用太长的数组会报关于数据溢出类型的错误，故在电脑端串传较长的数据无法实现，故将猫和狗的绘画简化，并固定放在单片机中，这边识别的结果只需传输简单的16进制数就能区分。
在这之上可以拓展，如自己画一个简单图，并使用opencv的函数将图片处理后，读取画面中的点，并且作为坐标传入单片机，并在单片机上绘画出来，实现一个临摹的功能。具体难点在于opencv处理会有噪点，并且坐标顺序需要按照最近的重新排序，以便电机画图能一笔画完。
还有一个思路是识别笔在纸上的移动轨迹，实时将坐标数据传入单片机，单片机做出对应的控制。但由于该电机没有编码器，比较难以进行精确的控制。


本部分由231223陈子逸完成